!function(a){var b={url:null,type:"get",timeOut:3e4,data:null,ifModified:!1,dataType:"json",remind:null,text:"",delay:0,callback:a.noop};a.newAjax=function(c,d){var e=a.extend({},b,d),f=a(c),g=f.text(),h=function(b,c){b&&(b.msg&&(c.reminds&&c.remind.length>0?Do("testRemind",function(){a.testRemind(f,b.msg);var d=parseInt(c.delay);d>0&&setTimeout(function(){a.testRemind.hide()},d)}):Do("Ibox",function(){a.Ibox.open(b.msg,null,{delay:c.delay})})),b.url?window.location.href=url:b.refresh&&(window.location.href=window.location.href.split("#")[0]))};a.ajax({url:e.url,type:e.type,timeout:e.timeOut,data:e.data,ifModified:e.ifModified,dataType:e.dataType,beforeSend:function(){e.url&&0!=f.data("ajax")&&(f.data("ajax",!1),e.text&&f.text(e.text))},success:function(b){return f.data("ajax",!0),h(b,e),a.isFunction(e.callback)&&e.callback(b),!1},complete:function(){e.text&&f.text(g)},error:function(){f.data("ajax",!0);var a={succ:!1,msg:"\u7cfb\u7edf\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\u3002"};return h(a,e),e.text&&f.text(g),!1}})}}(jQuery);